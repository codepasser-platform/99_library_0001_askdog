<div oc-lazy-load="['module/store/CouponManagementController']">
    <div class="row" ng-controller="CouponManagementController">
        <div class="main a-fadeinR">
            <h1 class="page-header">优惠券管理</h1>
            <div>
                <button type="button" class="btn btn-default btn-primary" ng-click="createCoupon()">创建优惠券
                </button>
            </div>
            <div>
                <table class="table">
                    <thead>
                    <tr>
                        <th>优惠券名</th>
                        <th>规则</th>
                        <th>类型</th>
                        <th>使用人数</th>
                        <th>领取人数</th>
                        <th>发行日期</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in viewData.result">
                        <td>{{item.name}}</td>
                        <td>+{{item.rule}}</td>
                        <td ng-if="item.type == 'NORMAL'">普通优惠券</td>
                        <td ng-if="item.type == 'FORWARDED'">转发优惠券</td>
                        <td>{{item.use_count}} ({{item.use_count | percent:item.not_use_count + item.use_count}}%)</td>
                        <td>{{item.not_use_count + item.use_count}}</td>
                        <td>{{item.creation_time | date:"yyyy/MM/dd"}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <pagination paging-data="viewData" size="10" total="{{viewData.total}}"></pagination>

        </div>
    </div>
</div>